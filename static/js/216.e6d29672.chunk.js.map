{"version":3,"file":"static/js/216.e6d29672.chunk.js","mappings":"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","sources":["utils/gameLogic.js","utils/gameConfig.js","constants/index.js","hooks/useLLMAPIEnhanced.js","../node_modules/lucide-react/src/icons/target.ts","../node_modules/lucide-react/src/icons/message-circle.ts","../node_modules/lucide-react/src/icons/settings.ts","../node_modules/lucide-react/src/icons/shield.ts","../node_modules/lucide-react/src/icons/activity.ts","../node_modules/lucide-react/src/icons/triangle-alert.ts","components/shared/GameConfiguration.jsx","../node_modules/lucide-react/src/icons/user.ts","../node_modules/lucide-react/src/icons/bot.ts","../node_modules/lucide-react/src/icons/clock.ts","components/shared/ConversationLog.jsx","../node_modules/lucide-react/src/icons/rotate-ccw.ts","../node_modules/lucide-react/src/icons/circle-alert.ts"],"sourcesContent":["import {\n  GAME_CONFIG,\n  createGameLogEntry,\n  createSetupLogEntry,\n  calculateGameEfficiency,\n} from \"./gameConfig\";\n\n// Generate secure random secret number\nexport const generateSecretNumber = (\n  min = GAME_CONFIG.RULES.MIN_NUMBER,\n  max = GAME_CONFIG.RULES.MAX_NUMBER\n) => {\n  try {\n    if (typeof min !== \"number\" || typeof max !== \"number\") {\n      console.warn(\"generateSecretNumber: Invalid parameters, using defaults\");\n      min = 1;\n      max = 100;\n    }\n\n    if (min >= max) {\n      console.warn(\"generateSecretNumber: min >= max, using defaults\");\n      min = 1;\n      max = 100;\n    }\n\n    const secretNumber = Math.floor(Math.random() * (max - min + 1)) + min;\n\n    if (secretNumber < min || secretNumber > max) {\n      console.error(\n        \"generateSecretNumber: Generated invalid number, using fallback\"\n      );\n      return Math.floor(Math.random() * 100) + 1;\n    }\n\n    console.log(\n      `✅ Generated secret number: ${secretNumber} (range: ${min}-${max})`\n    );\n    return secretNumber;\n  } catch (error) {\n    console.error(\n      \"generateSecretNumber: Error occurred, using fallback:\",\n      error\n    );\n    return Math.floor(Math.random() * 100) + 1;\n  }\n};\n\n// Calculate next binary search guess\nexport const calculateBinarySearchGuess = (min, max) => {\n  try {\n    if (typeof min !== \"number\" || typeof max !== \"number\") {\n      console.warn(\"calculateBinarySearchGuess: Invalid parameters\");\n      return 50;\n    }\n\n    if (min > max) {\n      console.warn(\"calculateBinarySearchGuess: min > max, swapping\");\n      [min, max] = [max, min];\n    }\n\n    const guess = Math.floor((min + max) / 2);\n    console.log(`🔍 Binary search guess: ${guess} (range: [${min}, ${max}])`);\n    return guess;\n  } catch (error) {\n    console.error(\"calculateBinarySearchGuess: Error occurred:\", error);\n    return 50;\n  }\n};\n\n// Enhanced number parsing with decimal support\nexport const parseNumber = (input) => {\n  try {\n    if (typeof input === \"number\") {\n      return Math.floor(input);\n    }\n\n    if (typeof input === \"string\") {\n      const trimmed = input.trim();\n\n      if (!trimmed || !/^-?\\d*\\.?\\d+$/.test(trimmed)) {\n        return null;\n      }\n\n      const num = parseFloat(trimmed);\n\n      if (isNaN(num)) {\n        return null;\n      }\n\n      return Math.floor(num);\n    }\n\n    return null;\n  } catch (error) {\n    console.error(\"parseNumber: Error parsing input:\", input, error);\n    return null;\n  }\n};\n\n// Compare guess with secret number\nexport const compareGuess = (guess, secret) => {\n  try {\n    const numGuess = parseNumber(guess);\n    const numSecret = parseNumber(secret);\n\n    if (numGuess === null || numSecret === null) {\n      console.error(\"compareGuess: Invalid numbers provided\", {\n        guess,\n        secret,\n        parsedGuess: numGuess,\n        parsedSecret: numSecret,\n      });\n      return \"error\";\n    }\n\n    console.log(`🎯 Comparing guess ${numGuess} with secret ${numSecret}`);\n\n    if (numGuess === numSecret) {\n      console.log(\"✅ Correct guess!\");\n      return GAME_CONFIG.FEEDBACK.CORRECT;\n    } else if (numGuess < numSecret) {\n      console.log(\"📈 Guess too low, need higher\");\n      return GAME_CONFIG.FEEDBACK.HIGHER;\n    } else {\n      console.log(\"📉 Guess too high, need lower\");\n      return GAME_CONFIG.FEEDBACK.LOWER;\n    }\n  } catch (error) {\n    console.error(\"compareGuess: Error occurred:\", error);\n    return \"error\";\n  }\n};\n\n// Update guessing range based on feedback\nexport const updateGuessingRange = (currentRange, lastGuess, feedback) => {\n  try {\n    // Input validation\n    if (\n      !currentRange ||\n      typeof currentRange.min !== \"number\" ||\n      typeof currentRange.max !== \"number\"\n    ) {\n      console.error(\n        \"updateGuessingRange: Invalid currentRange provided:\",\n        currentRange\n      );\n      return {\n        min: 1,\n        max: 100,\n        isError: true,\n        errorMessage: \"Invalid current range provided\",\n      };\n    }\n\n    const parsedLastGuess = parseNumber(lastGuess);\n    if (parsedLastGuess === null) {\n      console.error(\n        \"updateGuessingRange: Invalid lastGuess provided:\",\n        lastGuess\n      );\n      return {\n        ...currentRange,\n        isError: true,\n        errorMessage: \"Invalid last guess provided\",\n      };\n    }\n\n    const { min, max } = currentRange;\n    let newRange = { min, max };\n\n    const normalizedFeedback = normalizeFeedback(feedback);\n\n    console.log(\n      `🔄 Updating range from [${min}, ${max}] based on guess ${parsedLastGuess} and feedback \"${feedback}\" (normalized: \"${normalizedFeedback}\")`\n    );\n\n    switch (normalizedFeedback) {\n      case \"higher\":\n        newRange.min = parsedLastGuess + 1;\n        break;\n      case \"lower\":\n        newRange.max = parsedLastGuess - 1;\n        break;\n      case \"correct\":\n        newRange = { min: parsedLastGuess, max: parsedLastGuess };\n        break;\n      default:\n        console.warn(\n          \"updateGuessingRange: Unknown feedback, keeping current range\"\n        );\n        return {\n          ...currentRange,\n          isError: false,\n          message: `Unknown feedback: ${feedback}`,\n        };\n    }\n\n    console.log(`🔍 Proposed new range: [${newRange.min}, ${newRange.max}]`);\n\n    if (newRange.min > newRange.max) {\n      console.error(\n        `❌ updateGuessingRange: Invalid range created [${newRange.min}, ${newRange.max}]`\n      );\n      console.error(`❌ This indicates a logical error in feedback:`);\n      console.error(`   - Last guess: ${parsedLastGuess}`);\n      console.error(\n        `   - Feedback: ${feedback} (normalized: ${normalizedFeedback})`\n      );\n      console.error(`   - Previous range: [${min}, ${max}]`);\n\n      return {\n        min: newRange.min,\n        max: newRange.max,\n        isError: true,\n        errorMessage: `Logical inconsistency detected: feedback \"${feedback}\" for guess ${parsedLastGuess} creates invalid range [${newRange.min}, ${newRange.max}]. This suggests inconsistent feedback or a game logic error.`,\n        debugInfo: {\n          lastGuess: parsedLastGuess,\n          feedback: feedback,\n          normalizedFeedback: normalizedFeedback,\n          previousRange: { min, max },\n          attemptedRange: newRange,\n          suggestion:\n            \"Please restart the game or check your feedback consistency.\",\n        },\n      };\n    }\n\n    // Boundary check and auto-correction\n    if (newRange.min < 1 || newRange.max > 100) {\n      console.warn(\n        `⚠️  Range extends outside game bounds: [${newRange.min}, ${newRange.max}]`\n      );\n      const originalRange = { ...newRange };\n      newRange.min = Math.max(1, newRange.min);\n      newRange.max = Math.min(100, newRange.max);\n      console.log(\n        `🔧 Auto-corrected range from [${originalRange.min}, ${originalRange.max}] to [${newRange.min}, ${newRange.max}]`\n      );\n    }\n\n    // Single number case\n    if (newRange.min === newRange.max) {\n      console.log(`🎯 Range narrowed to single number: ${newRange.min}`);\n      return {\n        ...newRange,\n        isFinalGuess: true,\n        message: `Range narrowed to single possibility: ${newRange.min}`,\n        isError: false,\n      };\n    }\n\n    // Final validation\n    if (!isValidGameRange(newRange.min, newRange.max)) {\n      console.error(\n        `❌ Final range validation failed: [${newRange.min}, ${newRange.max}]`\n      );\n      return {\n        min: 1,\n        max: 100,\n        isError: true,\n        errorMessage:\n          \"Generated range failed final validation, reset to default\",\n      };\n    }\n\n    console.log(`✅ Valid new range: [${newRange.min}, ${newRange.max}]`);\n    return { ...newRange, isError: false };\n  } catch (error) {\n    console.error(\"updateGuessingRange: Unexpected error occurred:\", error);\n    return {\n      min: 1,\n      max: 100,\n      isError: true,\n      errorMessage:\n        \"Range update failed due to unexpected error: \" + error.message,\n      originalError: error.message,\n    };\n  }\n};\n\n// Normalize feedback input to standard format\nconst normalizeFeedback = (feedback) => {\n  if (typeof feedback !== \"string\") {\n    feedback = String(feedback);\n  }\n\n  const normalized = feedback.toLowerCase().trim();\n\n  // Handle various forms of \"higher\" feedback\n  if (\n    normalized.includes(\"higher\") ||\n    normalized.includes(\"up\") ||\n    normalized.includes(\"more\") ||\n    normalized.includes(\"bigger\") ||\n    normalized.includes(\"increase\") ||\n    normalized === \"h\" ||\n    normalized === GAME_CONFIG.FEEDBACK.HIGHER\n  ) {\n    return \"higher\";\n  }\n\n  // Handle various forms of \"lower\" feedback\n  if (\n    normalized.includes(\"lower\") ||\n    normalized.includes(\"down\") ||\n    normalized.includes(\"less\") ||\n    normalized.includes(\"smaller\") ||\n    normalized.includes(\"decrease\") ||\n    normalized === \"l\" ||\n    normalized === GAME_CONFIG.FEEDBACK.LOWER\n  ) {\n    return \"lower\";\n  }\n\n  // Handle various forms of \"correct\" feedback\n  if (\n    normalized.includes(\"correct\") ||\n    normalized.includes(\"right\") ||\n    normalized.includes(\"yes\") ||\n    normalized.includes(\"bingo\") ||\n    normalized.includes(\"exactly\") ||\n    normalized === \"c\" ||\n    normalized === GAME_CONFIG.FEEDBACK.CORRECT\n  ) {\n    return \"correct\";\n  }\n\n  return feedback;\n};\n\n// Validate guess with decimal support\nexport const isValidGuess = (guess) => {\n  const parsed = parseNumber(guess);\n  return parsed !== null && parsed >= 1 && parsed <= 100;\n};\n\n// Check if range is valid\nexport const isValidGameRange = (min, max) => {\n  return (\n    Number.isInteger(min) &&\n    Number.isInteger(max) &&\n    min >= 1 &&\n    max <= 100 &&\n    min <= max\n  );\n};\n\n// Enhanced game state validation\nexport const validateGameState = (gameData) => {\n  try {\n    const errors = [];\n    const warnings = [];\n\n    if (!gameData || typeof gameData !== \"object\") {\n      errors.push(\"Game data must be an object\");\n      return { isValid: false, errors, warnings };\n    }\n\n    const { currentRole, secretNumber, guesserState, guessCount } = gameData;\n\n    // Role validation\n    if (currentRole && ![\"hider\", \"guesser\"].includes(currentRole)) {\n      errors.push(\"Invalid current role: \" + currentRole);\n    }\n\n    // Hider state validation\n    if (currentRole === \"hider\") {\n      if (secretNumber === null || secretNumber === undefined) {\n        errors.push(\"Hider role requires a secret number\");\n      } else if (!isValidGuess(secretNumber)) {\n        errors.push(`Secret number ${secretNumber} must be between 1-100`);\n      }\n    }\n\n    // Guesser state validation\n    if (currentRole === \"guesser\" && guesserState) {\n      const { currentRange, lastGuess } = guesserState;\n\n      if (!currentRange) {\n        errors.push(\"Guesser state must have currentRange\");\n      } else {\n        if (!isValidGameRange(currentRange.min, currentRange.max)) {\n          errors.push(\n            `Current range [${currentRange.min}, ${currentRange.max}] is invalid`\n          );\n        }\n\n        if (currentRange.max - currentRange.min < 0) {\n          errors.push(\n            `Range [${currentRange.min}, ${currentRange.max}] indicates logical error`\n          );\n        } else if (currentRange.max - currentRange.min === 0) {\n          warnings.push(`Range narrowed to single number: ${currentRange.min}`);\n        } else if (currentRange.max - currentRange.min < 3) {\n          warnings.push(\n            `Range very narrow: [${currentRange.min}, ${currentRange.max}]`\n          );\n        }\n      }\n\n      // Last guess validation\n      if (lastGuess !== null && lastGuess !== undefined) {\n        if (!isValidGuess(lastGuess)) {\n          errors.push(\n            `Last guess ${lastGuess} must be valid integer between 1-100`\n          );\n        } else if (\n          currentRange &&\n          (lastGuess < currentRange.min || lastGuess > currentRange.max)\n        ) {\n          warnings.push(\n            `Last guess ${lastGuess} is outside current range [${currentRange.min}, ${currentRange.max}]`\n          );\n        }\n      }\n    }\n\n    // Guess count validation\n    if (typeof guessCount !== \"number\" || guessCount < 0) {\n      errors.push(\"Guess count must be a non-negative number\");\n    } else if (guessCount > 20) {\n      warnings.push(`High guess count: ${guessCount}`);\n    }\n\n    return {\n      isValid: errors.length === 0,\n      errors,\n      warnings,\n      summary: {\n        role: currentRole,\n        guesses: guessCount,\n        rangeSize:\n          currentRole === \"guesser\" && guesserState?.currentRange\n            ? guesserState.currentRange.max - guesserState.currentRange.min + 1\n            : null,\n      },\n    };\n  } catch (error) {\n    console.error(\"validateGameState: Error occurred:\", error);\n    return {\n      isValid: false,\n      errors: [\"Game state validation failed due to error: \" + error.message],\n      warnings: [],\n    };\n  }\n};\n\n// Simulate self-play game\nexport const simulateSelfPlayGame = (options = {}) => {\n  try {\n    const {\n      secretNumber = generateSecretNumber(),\n      maxGuesses = GAME_CONFIG.RULES.MAX_GUESSES,\n      startRange = {\n        min: GAME_CONFIG.RULES.MIN_NUMBER,\n        max: GAME_CONFIG.RULES.MAX_NUMBER,\n      },\n    } = options;\n\n    console.log(\n      `🎮 Starting self-play game with secret number: ${secretNumber}`\n    );\n\n    const gameLog = [];\n    let currentRange = { ...startRange };\n    let guessCount = 0;\n    let found = false;\n\n    gameLog.push(createSetupLogEntry(secretNumber, \"simulation\"));\n\n    let turnNumber = 1;\n    while (!found && guessCount < maxGuesses) {\n      const guess = calculateBinarySearchGuess(\n        currentRange.min,\n        currentRange.max\n      );\n      guessCount++;\n\n      console.log(\n        `🔍 Turn ${turnNumber}: Guessing ${guess} (range: [${currentRange.min}, ${currentRange.max}])`\n      );\n\n      let guesserThought = `Range is [${currentRange.min}, ${currentRange.max}].`;\n      if (turnNumber > 1) {\n        const prevHiderEntry = gameLog[gameLog.length - 1];\n        const prevGuesserEntry = gameLog[gameLog.length - 2];\n        guesserThought = `Hider said \"${prevHiderEntry.action}\". My last guess was ${prevGuesserEntry.metadata.guess}. Previous range was [${prevGuesserEntry.metadata.currentRange.min}, ${prevGuesserEntry.metadata.currentRange.max}]. New range is [${currentRange.min}, ${currentRange.max}].`;\n      }\n      guesserThought += ` My ${\n        turnNumber === 1 ? \"first\" : \"next\"\n      } guess will be floor((${currentRange.min} + ${\n        currentRange.max\n      }) / 2) = ${guess}.`;\n\n      gameLog.push(\n        createGameLogEntry(\n          turnNumber,\n          GAME_CONFIG.ROLES.GUESSER,\n          guesserThought,\n          `My guess is ${guess}.`,\n          {\n            guess,\n            currentRange: { ...currentRange },\n            strategy: \"binary_search\",\n          }\n        )\n      );\n\n      const feedback = compareGuess(guess, secretNumber);\n      const hiderThought = `My secret number is ${secretNumber}. Guesser guessed ${guess}. ${\n        feedback === GAME_CONFIG.FEEDBACK.CORRECT\n          ? `${guess} equals ${secretNumber}. I must respond \"correct\".`\n          : feedback === GAME_CONFIG.FEEDBACK.HIGHER\n          ? `${guess} is less than ${secretNumber}. I must respond \"higher\".`\n          : `${guess} is greater than ${secretNumber}. I must respond \"lower\".`\n      }`;\n\n      gameLog.push(\n        createGameLogEntry(\n          turnNumber,\n          GAME_CONFIG.ROLES.HIDER,\n          hiderThought,\n          feedback,\n          { secretNumber, feedback, guess }\n        )\n      );\n\n      if (feedback === GAME_CONFIG.FEEDBACK.CORRECT) {\n        found = true;\n        gameLog.push(\n          createGameLogEntry(\n            turnNumber + 1,\n            GAME_CONFIG.ROLES.GUESSER,\n            'Hider said \"correct\"! I found the number. Game over.',\n            `The number is ${secretNumber}! I won with ${guessCount} guesses.`,\n            { gameEnd: true, result: \"success\", totalGuesses: guessCount }\n          )\n        );\n        console.log(\n          `🎉 Game completed! Found ${secretNumber} in ${guessCount} guesses`\n        );\n      } else {\n        const newRangeResult = updateGuessingRange(\n          currentRange,\n          guess,\n          feedback\n        );\n\n        if (newRangeResult.isError) {\n          console.error(\n            \"❌ Self-play game encountered range error:\",\n            newRangeResult.errorMessage\n          );\n          break;\n        }\n\n        currentRange = newRangeResult;\n      }\n\n      turnNumber++;\n    }\n\n    if (!found) {\n      gameLog.push(\n        createGameLogEntry(\n          turnNumber,\n          GAME_CONFIG.ROLES.HIDER,\n          \"Guesser has exceeded maximum attempts. Game over.\",\n          `You have run out of guesses. The secret number was ${secretNumber}.`,\n          { gameEnd: true, result: \"timeout\", secretNumber }\n        )\n      );\n      console.log(\n        `⏰ Game timed out after ${guessCount} guesses. Secret was ${secretNumber}`\n      );\n    }\n\n    return {\n      gameLog,\n      secretNumber,\n      totalGuesses: guessCount,\n      result: found ? \"success\" : \"timeout\",\n      efficiency: calculateGameEfficiency(guessCount),\n    };\n  } catch (error) {\n    console.error(\"simulateSelfPlayGame: Error occurred:\", error);\n    return {\n      gameLog: [],\n      secretNumber: null,\n      totalGuesses: 0,\n      result: \"error\",\n      efficiency: \"failed\",\n      error: error.message,\n    };\n  }\n};\n","// utils/gameConfig.js - 清理版本，移除与 gameLogic.js 重复的函数\nexport const GAME_CONFIG = {\n  RULES: {\n    MIN_NUMBER: 1,\n    MAX_NUMBER: 100,\n    MAX_GUESSES: 10,\n    DEFAULT_TEMPERATURE: 0.7,\n  },\n\n  STATES: {\n    IDLE: \"idle\",\n    PLAYING: \"playing\",\n    FINISHED: \"finished\",\n    PROCESSING: \"processing\",\n  },\n\n  ROLES: {\n    HIDER: \"hider\",\n    GUESSER: \"guesser\",\n  },\n\n  FEEDBACK: {\n    HIGHER: \"higher\",\n    LOWER: \"lower\",\n    CORRECT: \"correct\",\n  },\n\n  EFFICIENCY_THRESHOLDS: {\n    EXCELLENT: 7,\n    GOOD: 10,\n  },\n\n  API: {\n    DEFAULT_MAX_TOKENS: 512,\n    DEFAULT_TOP_P: 0.7,\n    DEFAULT_TOP_K: 50,\n    DEFAULT_FREQUENCY_PENALTY: 0.5,\n    DEFAULT_BASE_URL: \"https://api.siliconflow.cn/v1/chat/completions\",\n  },\n\n  UI: {\n    ANIMATION_DELAY: 1200,\n    SCROLL_DELAY: 500,\n    MIN_API_DELAY: 500,\n    MAX_API_DELAY: 1500,\n  },\n};\n\nexport const ROLE_CONFIG = {\n  [GAME_CONFIG.ROLES.HIDER]: {\n    name: \"AI Hider\",\n    icon: \"🎯\",\n    description: \"Conceals number and provides feedback\",\n    styles: {\n      gradient: \"from-purple-500 to-purple-600\",\n      bgGradient: \"from-purple-100 to-purple-200\",\n      border: \"border-purple-500\",\n      textColor: \"text-purple-700\",\n      bgColor: \"bg-purple-100\",\n    },\n  },\n  [GAME_CONFIG.ROLES.GUESSER]: {\n    name: \"AI Guesser\",\n    icon: \"🔍\",\n    description: \"Uses binary search strategy to guess\",\n    styles: {\n      gradient: \"from-blue-500 to-blue-600\",\n      bgGradient: \"from-blue-100 to-blue-200\",\n      border: \"border-blue-500\",\n      textColor: \"text-blue-700\",\n      bgColor: \"bg-blue-100\",\n    },\n  },\n};\n\nexport const EFFICIENCY_GRADES = {\n  EXCELLENT: {\n    grade: \"A+\",\n    color: \"text-green-600\",\n    threshold: GAME_CONFIG.EFFICIENCY_THRESHOLDS.EXCELLENT,\n  },\n  GOOD: {\n    grade: \"B+\",\n    color: \"text-blue-600\",\n    threshold: GAME_CONFIG.EFFICIENCY_THRESHOLDS.GOOD,\n  },\n  AVERAGE: { grade: \"C+\", color: \"text-yellow-600\", threshold: Infinity },\n};\n\nexport const formatDuration = (ms) => {\n  if (!ms || ms === 0) return \"N/A\";\n  if (ms < 1000) return `${ms}ms`;\n  if (ms < 60000) return `${(ms / 1000).toFixed(2)}s`;\n  return `${Math.floor(ms / 60000)}m ${Math.floor((ms % 60000) / 1000)}s`;\n};\n\nexport const formatCost = (cost) => {\n  if (!cost || cost.estimatedUSD === 0) return \"Free\";\n  if (cost.estimatedUSD < 0.000001) return \"<$0.000001\";\n  return `$${cost.estimatedUSD.toFixed(6)}`;\n};\n\nexport const formatEfficiencyGrade = (guessCount) => {\n  if (guessCount <= EFFICIENCY_GRADES.EXCELLENT.threshold) {\n    return EFFICIENCY_GRADES.EXCELLENT;\n  } else if (guessCount <= EFFICIENCY_GRADES.GOOD.threshold) {\n    return EFFICIENCY_GRADES.GOOD;\n  }\n  return EFFICIENCY_GRADES.AVERAGE;\n};\n\nexport const formatGameMode = (useRealAPI, model) => {\n  return useRealAPI ? `Real ${model}` : \"Simulation\";\n};\n\nexport const formatAPIStatus = (config, status) => {\n  const { useRealAPI, apiToken, model } = config;\n\n  if (!useRealAPI) {\n    return { text: \"Simulation Mode\", color: \"bg-blue-100 text-blue-800\" };\n  }\n\n  if (!apiToken) {\n    return { text: \"No API Token\", color: \"bg-red-100 text-red-800\" };\n  }\n\n  if (status?.hasValidToken) {\n    return { text: `${model} Ready`, color: \"bg-green-100 text-green-800\" };\n  }\n\n  return { text: \"API Error\", color: \"bg-orange-100 text-orange-800\" };\n};\n\nexport const getRoleConfig = (role) => {\n  return ROLE_CONFIG[role] || ROLE_CONFIG[GAME_CONFIG.ROLES.GUESSER];\n};\n\nexport const getRoleStyles = (role) => {\n  return getRoleConfig(role).styles;\n};\n\nexport const getRoleIcon = (role) => {\n  return getRoleConfig(role).icon;\n};\n\nexport const getRoleName = (role) => {\n  return getRoleConfig(role).name;\n};\n\nexport const getRoleDescription = (role) => {\n  return getRoleConfig(role).description;\n};\n\nexport const createGameLogEntry = (\n  turn,\n  role,\n  thought,\n  action,\n  metadata = {}\n) => {\n  const roleConfig = getRoleConfig(role);\n\n  return {\n    turn,\n    role,\n    roleIcon: roleConfig.icon,\n    roleName: roleConfig.name,\n    thought,\n    action,\n    metadata: {\n      timestamp: new Date().toISOString(),\n      roleConfig,\n      ...metadata,\n    },\n  };\n};\n\nexport const createSetupLogEntry = (secretNumber, apiType = \"simulation\") => {\n  const { HIDER } = GAME_CONFIG.ROLES;\n\n  return createGameLogEntry(\n    0,\n    HIDER,\n    `I will choose a challenging number. I select ${secretNumber}.`,\n    \"I've chosen a secret number between 1 and 100, start guessing!\",\n    {\n      isSetup: true,\n      secretNumber,\n      apiType,\n      gamePhase: \"setup\",\n    }\n  );\n};\n\nexport const createGuessLogEntry = (\n  turn,\n  guess,\n  currentRange,\n  strategy = \"binary_search\"\n) => {\n  const { GUESSER } = GAME_CONFIG.ROLES;\n\n  return createGameLogEntry(\n    turn,\n    GUESSER,\n    `Current search range is [${currentRange.min}, ${currentRange.max}]. Using ${strategy} strategy, I choose middle value ${guess}.`,\n    `I guess ${guess}`,\n    {\n      guess,\n      currentRange: { ...currentRange },\n      strategy,\n      gamePhase: \"guessing\",\n    }\n  );\n};\n\nexport const createFeedbackLogEntry = (\n  turn,\n  guess,\n  secretNumber,\n  feedback,\n  gameEnd = false\n) => {\n  const { HIDER } = GAME_CONFIG.ROLES;\n\n  const thoughtMap = {\n    [GAME_CONFIG.FEEDBACK\n      .CORRECT]: `Guess ${guess} perfectly matches my secret number ${secretNumber}. Victory!`,\n    [GAME_CONFIG.FEEDBACK\n      .HIGHER]: `Guess ${guess} is less than my secret number ${secretNumber}. Giving \"higher\" hint.`,\n    [GAME_CONFIG.FEEDBACK\n      .LOWER]: `Guess ${guess} is greater than my secret number ${secretNumber}. Giving \"lower\" hint.`,\n  };\n\n  const actionMap = {\n    [GAME_CONFIG.FEEDBACK.CORRECT]:\n      \"🎉 Correct! Congratulations, you guessed it!\",\n    [GAME_CONFIG.FEEDBACK.HIGHER]: \"📈 Too low! Guess higher!\",\n    [GAME_CONFIG.FEEDBACK.LOWER]: \"📉 Too high! Guess lower!\",\n  };\n\n  return createGameLogEntry(\n    turn,\n    HIDER,\n    thoughtMap[feedback] || `Processing guess ${guess}...`,\n    actionMap[feedback] || feedback,\n    {\n      feedback,\n      secretNumber,\n      guess,\n      gameEnd,\n      gamePhase: gameEnd ? \"completion\" : \"feedback\",\n    }\n  );\n};\n\nexport const createAPIResult = (content, metadata = {}) => {\n  return {\n    content,\n    success: true,\n    timestamp: new Date().toISOString(),\n    metadata: {\n      callId: `api_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,\n      ...metadata,\n    },\n  };\n};\n\nexport const createErrorResult = (error, metadata = {}) => {\n  return {\n    content: null,\n    success: false,\n    error: {\n      message: error.message,\n      type: error.name || \"UnknownError\",\n    },\n    timestamp: new Date().toISOString(),\n    metadata: {\n      callId: `api_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,\n      ...metadata,\n    },\n  };\n};\n\nexport const createDefaultAPIConfig = () => ({\n  useRealAPI: false,\n  apiToken: \"\",\n  apiBaseUrl: GAME_CONFIG.API.DEFAULT_BASE_URL,\n  model: \"Qwen/Qwen2.5-32B-Instruct\",\n  maxTokens: GAME_CONFIG.API.DEFAULT_MAX_TOKENS,\n  temperature: GAME_CONFIG.RULES.DEFAULT_TEMPERATURE,\n  topP: GAME_CONFIG.API.DEFAULT_TOP_P,\n  topK: GAME_CONFIG.API.DEFAULT_TOP_K,\n  frequencyPenalty: GAME_CONFIG.API.DEFAULT_FREQUENCY_PENALTY,\n});\n\nexport const mergeAPIConfig = (defaultConfig, customConfig) => {\n  const merged = { ...defaultConfig, ...customConfig };\n  return merged;\n};\n\nexport const initializeGameState = () => ({\n  state: GAME_CONFIG.STATES.IDLE,\n  currentTurn: 0,\n  secretNumber: null,\n  totalGuesses: 0,\n  gameResult: null,\n  gameLog: [],\n  currentRange: {\n    min: GAME_CONFIG.RULES.MIN_NUMBER,\n    max: GAME_CONFIG.RULES.MAX_NUMBER,\n  },\n  apiCallInfo: null,\n});\n\nexport const resetGameState = () => initializeGameState();\n\nexport const calculateGameEfficiency = (guessCount) => {\n  if (guessCount <= GAME_CONFIG.EFFICIENCY_THRESHOLDS.EXCELLENT) {\n    return \"excellent\";\n  } else if (guessCount <= GAME_CONFIG.EFFICIENCY_THRESHOLDS.GOOD) {\n    return \"good\";\n  } else {\n    return \"needs improvement\";\n  }\n};\n","// Core configuration data\nexport const THEME_VARIANTS = {\n  default: {\n    primary: { bg: \"from-blue-50 to-indigo-100\", icon: \"text-blue-600\" },\n    user: { gradient: \"from-green-500 to-emerald-600\" },\n    ai: { gradient: \"from-purple-500 to-indigo-600\", name: \"🤖 AI Assistant\" },\n  },\n  hider: {\n    primary: { bg: \"from-red-50 to-pink-100\", icon: \"text-red-600\" },\n    user: { gradient: \"from-red-500 to-pink-600\" },\n    ai: { gradient: \"from-red-600 to-pink-700\", name: \"🔒 Hider AI\" },\n  },\n  guesser: {\n    primary: { bg: \"from-green-50 to-emerald-100\", icon: \"text-green-600\" },\n    user: { gradient: \"from-green-500 to-emerald-600\" },\n    ai: { gradient: \"from-green-600 to-emerald-700\", name: \"🎯 Guesser AI\" },\n  },\n  selfplay: {\n    primary: { bg: \"from-purple-50 to-indigo-100\", icon: \"text-purple-600\" },\n    user: { gradient: \"from-purple-500 to-indigo-600\" },\n    ai: { gradient: \"from-purple-600 to-indigo-700\", name: \"🧠 Self-Play AI\" },\n  },\n};\n\nexport const GAME_BUTTONS = {\n  correct: { text: \"✅ Correct!\", style: \"bg-green-500 hover:bg-green-600\" },\n  tooHigh: { text: \"📈 Too High\", style: \"bg-red-500 hover:bg-red-600\" },\n  tooLow: { text: \"📉 Too Low\", style: \"bg-blue-500 hover:bg-blue-600\" },\n};\n\nexport const STATUS_COLORS = {\n  success: \"text-green-600\",\n  error: \"text-red-600\",\n  warning: \"text-yellow-600\",\n  info: \"text-blue-600\",\n  idle: \"text-gray-500\",\n};\n\nexport const API_STATUS_COLORS = {\n  connected: \"bg-green-100 text-green-800\",\n  disconnected: \"bg-red-100 text-red-800\",\n  connecting: \"bg-yellow-100 text-yellow-800\",\n  error: \"bg-red-100 text-red-800\",\n};\n\nexport const GAME_CONFIG = {\n  MIN_NUMBER: 1,\n  MAX_NUMBER: 100,\n  MAX_GUESSES: 10,\n  BINARY_SEARCH_OPTIMAL: 7,\n  TIMEOUT_MS: 30000,\n  RETRY_ATTEMPTS: 3,\n};\n\nexport const ROLE_CONFIG = {\n  hider: {\n    name: \"Number Hider\",\n    description: \"Selects and hides a secret number\",\n    icon: \"🔒\",\n    color: \"red\",\n  },\n  guesser: {\n    name: \"Number Guesser\",\n    description: \"Tries to guess the hidden number\",\n    icon: \"🎯\",\n    color: \"green\",\n  },\n};\n\nexport const EFFICIENCY_GRADES = {\n  S: { threshold: 7, label: \"Perfect\", color: \"text-purple-600\" },\n  A: { threshold: 8, label: \"Excellent\", color: \"text-green-600\" },\n  B: { threshold: 10, label: \"Good\", color: \"text-blue-600\" },\n  C: { threshold: 12, label: \"Average\", color: \"text-yellow-600\" },\n  D: { threshold: 15, label: \"Poor\", color: \"text-red-600\" },\n};\n\n// Utility functions\nexport const getTheme = (variant = \"default\") => {\n  return THEME_VARIANTS[variant] || THEME_VARIANTS.default;\n};\n\nexport const getGameButtons = () => GAME_BUTTONS;\n\nexport const generateSecretNumber = (\n  min = GAME_CONFIG.MIN_NUMBER,\n  max = GAME_CONFIG.MAX_NUMBER\n) => {\n  return Math.floor(Math.random() * (max - min + 1)) + min;\n};\n\nexport const calculateBinarySearchGuess = (min, max) => {\n  return Math.floor((min + max) / 2);\n};\n\nexport const compareGuess = (guess, secret) => {\n  if (guess === secret) return \"correct\";\n  return guess > secret ? \"tooHigh\" : \"tooLow\";\n};\n\nexport const updateGuessingRange = (currentRange, guess, result) => {\n  const { min, max } = currentRange;\n\n  switch (result) {\n    case \"tooHigh\":\n      return { min, max: guess - 1 };\n    case \"tooLow\":\n      return { min: guess + 1, max };\n    case \"correct\":\n      return { min: guess, max: guess };\n    default:\n      return currentRange;\n  }\n};\n\nexport const formatDuration = (ms) => {\n  if (ms < 1000) return `${ms}ms`;\n  const seconds = (ms / 1000).toFixed(1);\n  return `${seconds}s`;\n};\n\nexport const formatCost = (cost) => {\n  if (cost < 0.01) return `$${(cost * 1000).toFixed(2)}k`;\n  return `$${cost.toFixed(4)}`;\n};\n\nexport const formatEfficiencyGrade = (guessCount) => {\n  for (const [grade, config] of Object.entries(EFFICIENCY_GRADES)) {\n    if (guessCount <= config.threshold) {\n      return { grade, ...config };\n    }\n  }\n  return { grade: \"F\", label: \"Failed\", color: \"text-gray-600\" };\n};\n\nexport const getRoleConfig = (role) => {\n  return ROLE_CONFIG[role] || ROLE_CONFIG.guesser;\n};\n\nexport const getRoleStyles = (role) => {\n  const config = getRoleConfig(role);\n  return {\n    bg: `bg-${config.color}-50`,\n    border: `border-${config.color}-200`,\n    text: `text-${config.color}-800`,\n    icon: config.icon,\n  };\n};\n\nexport const createGameLogEntry = (type, data, timestamp = Date.now()) => {\n  return {\n    id: `${timestamp}-${Math.random().toString(36).substr(2, 9)}`,\n    type,\n    timestamp,\n    data: { ...data },\n  };\n};\n\n// API configuration management\nexport const createDefaultAPIConfig = () => ({\n  model: MODEL_OPTIONS[0].value,\n  temperature: 0.7,\n  maxTokens: 1000,\n  timeout: GAME_CONFIG.TIMEOUT_MS,\n  retryAttempts: GAME_CONFIG.RETRY_ATTEMPTS,\n});\n\nexport const mergeAPIConfig = (defaultConfig, userConfig = {}) => {\n  return { ...defaultConfig, ...userConfig };\n};\n\nexport const validateAPIConfig = (config) => {\n  const errors = [];\n\n  if (!config.model) errors.push(\"Model is required\");\n  if (config.temperature < 0 || config.temperature > 2) {\n    errors.push(\"Temperature must be between 0 and 2\");\n  }\n  if (config.maxTokens < 1 || config.maxTokens > 4000) {\n    errors.push(\"Max tokens must be between 1 and 4000\");\n  }\n\n  return { isValid: errors.length === 0, errors };\n};\n\nexport const createAPIResult = (success, data, error = null, metadata = {}) => {\n  return {\n    success,\n    data: success ? data : null,\n    error: success ? null : error,\n    timestamp: Date.now(),\n    metadata,\n  };\n};\n\nexport const createErrorResult = (error, code = \"UNKNOWN_ERROR\") => {\n  return createAPIResult(false, null, { message: error, code });\n};\n\n// Application metadata\nexport const versions = [\n  {\n    id: \"v1\",\n    title: \"Version 1: Natural Language Recognition\",\n    subtitle: \"Smart feedback parsing with role selection\",\n    description:\n      \"First implementation with sophisticated natural language understanding for user feedback. Features unified prompting and dynamic role assignment.\",\n    features: [\n      \"Natural Language Processing\",\n      \"Role Selection Interface\",\n      \"Smart Feedback Recognition\",\n      \"Unified Prompting\",\n    ],\n    color: \"from-purple-500 to-indigo-500\",\n    bgColor: \"from-purple-50 to-indigo-50\",\n    borderColor: \"border-purple-500\",\n    icon: \"🎯\",\n    status: \"Foundational\",\n    accuracy: \"~85%\",\n    responseTime: \"1.5-2.5s\",\n    intervention: \"Required\",\n  },\n  {\n    id: \"v2\",\n    title: \"Version 2: Button-Based Interaction\",\n    subtitle: \"Enhanced UX with reliable feedback mechanisms\",\n    description:\n      \"Improved version addressing natural language ambiguity through button-based feedback. Significantly enhanced user experience and reliability.\",\n    features: [\n      \"Button-Based Feedback\",\n      \"Auto-Scroll Chat\",\n      \"Fast Response Time\",\n      \"100% Accurate Recognition\",\n    ],\n    color: \"from-green-500 to-emerald-500\",\n    bgColor: \"from-green-50 to-emerald-50\",\n    borderColor: \"border-green-500\",\n    icon: \"🎮\",\n    status: \"Enhanced\",\n    accuracy: \"100%\",\n    responseTime: \"0.5-1s\",\n    intervention: \"Minimal\",\n  },\n  {\n    id: \"v3\",\n    title: \"Version 3: Self-Play System\",\n    subtitle: \"Autonomous dual-role AI gameplay\",\n    description:\n      \"Revolutionary self-play implementation where a single LLM internally simulates both game roles. Represents advanced prompt engineering breakthrough.\",\n    features: [\n      \"Complete Self-Play\",\n      \"Chain-of-Thought Reasoning\",\n      \"Information Asymmetry\",\n      \"Autonomous Gameplay\",\n    ],\n    color: \"from-indigo-500 to-purple-500\",\n    bgColor: \"from-indigo-50 to-purple-50\",\n    borderColor: \"border-indigo-500\",\n    icon: \"🧠\",\n    status: \"Revolutionary\",\n    accuracy: \"100%\",\n    responseTime: \"Variable\",\n    intervention: \"None\",\n  },\n];\n\nexport const innovations = [\n  {\n    icon: \"🎯\",\n    title: \"Smart Recognition\",\n    description:\n      \"Advanced natural language understanding for flexible user interaction patterns\",\n    gradient: \"from-purple-100 to-indigo-100\",\n  },\n  {\n    icon: \"🎮\",\n    title: \"Enhanced UX\",\n    description:\n      \"Button-based feedback system eliminating ambiguity and improving reliability\",\n    gradient: \"from-green-100 to-emerald-100\",\n  },\n  {\n    icon: \"🧠\",\n    title: \"Self-Play AI\",\n    description:\n      \"Breakthrough in autonomous dual-role simulation within single LLM instance\",\n    gradient: \"from-indigo-100 to-purple-100\",\n  },\n];\n\nexport const MODEL_OPTIONS = [\n  { value: \"Qwen/Qwen2.5-32B-Instruct\", label: \"Qwen2.5-32B-Instruct\" },\n  { value: \"Qwen/QwQ-32B-Preview\", label: \"QwQ-32B-Preview\" },\n  { value: \"deepseek-ai/DeepSeek-V2.5\", label: \"DeepSeek-V2.5\" },\n\n  {\n    value: \"meta-llama/Llama-3.1-70B-Instruct\",\n    label: \"Llama-3.1-70B-Instruct\",\n  },\n];\n\nexport const BUILTIN_API_TOKEN =\n  \"sk-clqqswaqxemhlqebormuzmjfhoavnorctpparvurmemasrnx\";\n\nexport const performanceMetrics = [\n  { label: \"V1 Recognition Accuracy\", value: \"~85%\", color: \"text-purple-600\" },\n  { label: \"V2 Button Accuracy\", value: \"100%\", color: \"text-green-600\" },\n  { label: \"V3 Human Intervention\", value: \"0ms\", color: \"text-indigo-600\" },\n  { label: \"Complexity Increase\", value: \"3x\", color: \"text-blue-600\" },\n];\n\nexport const APP_METADATA = {\n  title: \"AI Agent Communication System - Interview Project\",\n  description:\n    \"Interview Project: AI agents communicate to play number guessing game. Hider agent selects number 1-100, Guesser agent uses binary search. Demonstrates AI-to-AI communication.\",\n  keywords:\n    \"AI agents, interview project, LLM communication, number guessing game, artificial intelligence, agent dialogue, autonomous AI, prompt engineering\",\n  author: \"Yitian Yu\",\n  created: \"June 2024\",\n  purpose: \"Interview Project - AI Agent Communication\",\n};\n","import { useState, useCallback, useRef, useMemo } from \"react\";\nimport { simulateSelfPlayGame } from \"../utils/gameLogic\";\nimport {\n  createAPIResult,\n  createErrorResult,\n  createDefaultAPIConfig,\n  mergeAPIConfig,\n} from \"../utils/gameConfig\";\n\nexport const useLLMAPIEnhanced = (customConfig = {}) => {\n  const config = useMemo(() => {\n    return mergeAPIConfig(createDefaultAPIConfig(), customConfig);\n  }, [customConfig]);\n\n  const [isProcessing, setIsProcessing] = useState(false);\n  const [apiError, setApiError] = useState(null);\n  const [lastCallResult, setLastCallResult] = useState(null);\n  const [callHistory, setCallHistory] = useState([]);\n  const abortControllerRef = useRef(null);\n  const gameProcessingRef = useRef(false);\n\n  const addToCallHistory = useCallback((result) => {\n    setCallHistory((prev) => [...prev.slice(-9), result]);\n    setLastCallResult(result);\n  }, []);\n\n  const simulateAPIDelay = useCallback((minDelay = 500, maxDelay = 1500) => {\n    const delay = minDelay + Math.random() * (maxDelay - minDelay);\n    return new Promise((resolve) => setTimeout(resolve, delay));\n  }, []);\n\n  const callSingleAPI = useCallback(\n    async (messages, systemPrompt = \"\") => {\n      const {\n        useRealAPI,\n        apiToken,\n        apiBaseUrl,\n        model,\n        maxTokens,\n        temperature,\n        topP,\n        topK,\n        frequencyPenalty,\n      } = config;\n\n      if (!useRealAPI || !apiToken) {\n        await simulateAPIDelay(1000);\n        const content = messages[0].content.includes(\"HIDER\")\n          ? \"I've chosen a secret number between 1-100. Start guessing!\"\n          : messages[0].content.includes(\"guess\")\n          ? `I guess ${Math.floor(Math.random() * 100) + 1}`\n          : \"Higher! Your guess is too low.\";\n\n        return {\n          success: true,\n          content,\n          metadata: {\n            cost: { estimatedUSD: 0, tokensUsed: 0 },\n            duration: 1000,\n            model: \"simulation\",\n            apiType: \"simulation\",\n          },\n        };\n      }\n\n      const startTime = Date.now();\n      abortControllerRef.current = new AbortController();\n\n      const apiMessages = [];\n      if (systemPrompt) {\n        apiMessages.push({ role: \"system\", content: systemPrompt });\n      }\n      apiMessages.push(...messages);\n\n      const requestBody = {\n        model: model,\n        messages: apiMessages,\n        stream: false,\n        max_tokens: maxTokens,\n        enable_thinking: false,\n        thinking_budget: 4096,\n        min_p: 0.05,\n        stop: null,\n        temperature: temperature,\n        top_p: topP,\n        top_k: topK || 50,\n        frequency_penalty: frequencyPenalty || 0.5,\n        n: 1,\n        response_format: { type: \"text\" },\n        tools: [], \n      };\n\n      const options = {\n        method: \"POST\",\n        headers: {\n          Authorization: `Bearer ${apiToken}`,\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(requestBody),\n        signal: abortControllerRef.current.signal,\n      };\n\n      try {\n        const response = await fetch(apiBaseUrl, options);\n        const endTime = Date.now();\n        const duration = endTime - startTime;\n\n        if (!response.ok) {\n          const errorData = await response.json().catch(() => ({}));\n          throw new Error(\n            `API Error ${response.status}: ${\n              errorData.error?.message || response.statusText\n            }`\n          );\n        }\n\n        const data = await response.json();\n\n        if (!data.choices || !data.choices[0] || !data.choices[0].message) {\n          throw new Error(\"Invalid API response format\");\n        }\n\n        const content = data.choices[0].message.content.trim();\n\n        return {\n          success: true,\n          content: content,\n          metadata: {\n            duration,\n            model: model,\n            apiType: \"real\",\n            tokensUsed: data.usage?.total_tokens || 0,\n            finishReason: data.choices[0].finish_reason,\n            responseLength: content.length,\n            endTime: new Date(endTime).toISOString(),\n          },\n        };\n      } catch (error) {\n        console.error(\"Single API call failed:\", error);\n        throw error;\n      }\n    },\n    [config, simulateAPIDelay]\n  );\n\n  const callRealLLMAPI = useCallback(\n    async (messages, systemPrompt = \"\") => {\n      const startTime = Date.now();\n      const callMetadata = {\n        apiType: \"real\",\n        model: config.model,\n        maxTokens: config.maxTokens,\n        temperature: config.temperature,\n        messagesCount: messages.length,\n        hasSystemPrompt: !!systemPrompt,\n        startTime: new Date(startTime).toISOString(),\n      };\n\n      if (!config.apiToken) {\n        const error = new Error(\"API token is required for real API calls\");\n        const errorResult = createErrorResult(error, callMetadata);\n        addToCallHistory(errorResult);\n        throw error;\n      }\n\n      try {\n        const result = await callSingleAPI(messages, systemPrompt);\n        const successResult = createAPIResult(result.content, {\n          ...callMetadata,\n          ...result.metadata,\n        });\n\n        addToCallHistory(successResult);\n        return successResult;\n      } catch (error) {\n        const endTime = Date.now();\n        const duration = endTime - startTime;\n\n        if (error.name === \"AbortError\") {\n          const abortError = new Error(\"Request was cancelled\");\n          const errorResult = createErrorResult(abortError, {\n            ...callMetadata,\n            duration,\n            cancelled: true,\n            endTime: new Date(endTime).toISOString(),\n          });\n          addToCallHistory(errorResult);\n          throw abortError;\n        }\n\n        const errorResult = createErrorResult(error, {\n          ...callMetadata,\n          duration,\n          endTime: new Date(endTime).toISOString(),\n        });\n        addToCallHistory(errorResult);\n        throw error;\n      }\n    },\n    [config, callSingleAPI, addToCallHistory]\n  );\n\n  const startRealTimeGame = useCallback(\n    async (onTurnUpdate, onGameComplete, onError) => {\n      if (gameProcessingRef.current) {\n        return;\n      }\n\n      gameProcessingRef.current = true;\n      const secretNumber = Math.floor(Math.random() * 100) + 1;\n      let guessCount = 0;\n\n      try {\n        const hiderSetupPrompt = `You are the HIDER in a number guessing game. You have secretly chosen the number ${secretNumber} (between 1-100). \n\nYour role: Provide feedback to guesses with \"Higher!\", \"Lower!\", or \"Correct!\" based on the secret number ${secretNumber}.\n\nRespond ONLY with: \"I've chosen a secret number between 1-100. Start guessing!\"`;\n\n        await callSingleAPI([{ role: \"user\", content: hiderSetupPrompt }]);\n\n        gameProcessingRef.current = false;\n        onGameComplete({\n          success: true,\n          gameData: { secretNumber, totalGuesses: guessCount },\n        });\n      } catch (error) {\n        gameProcessingRef.current = false;\n        onError(error);\n      }\n    },\n    [callSingleAPI]\n  );\n\n  const callSelfPlayLLMAPI = useCallback(\n    async (options = {}) => {\n      if (!config.useRealAPI) {\n        setIsProcessing(true);\n        try {\n          await simulateAPIDelay(2000);\n          const gameData = simulateSelfPlayGame(options);\n          const result = createAPIResult(\"Game completed\", {\n            apiType: \"simulation\",\n            model: \"built-in-algorithm\",\n            duration: 2000,\n            cost: { estimatedUSD: 0, tokensUsed: 0 },\n            gameData,\n          });\n          addToCallHistory(result);\n          return result;\n        } catch (error) {\n          const errorResult = createErrorResult(error, {\n            apiType: \"simulation\",\n          });\n          addToCallHistory(errorResult);\n          throw error;\n        } finally {\n          setIsProcessing(false);\n        }\n      }\n\n      throw new Error(\"Real API self-play not implemented\");\n    },\n    [config, simulateAPIDelay, addToCallHistory]\n  );\n\n  const getAPIStatus = useCallback(() => {\n    const total = callHistory.length;\n    const successful = callHistory.filter((call) => call.success).length;\n    const totalCost = callHistory.reduce(\n      (sum, call) => sum + (call.metadata?.cost?.estimatedUSD || 0),\n      0\n    );\n\n    return {\n      isProcessing: isProcessing || gameProcessingRef.current,\n      hasError: !!apiError,\n      errorMessage: apiError,\n      canRetry: !isProcessing && !gameProcessingRef.current,\n      usingRealAPI: config.useRealAPI,\n      hasValidToken: !!config.apiToken,\n      model: config.model,\n      environment: process.env.NODE_ENV,\n      version: \"simplified\",\n      callHistory: {\n        total,\n        successful,\n        failed: total - successful,\n        totalCost,\n      },\n    };\n  }, [isProcessing, apiError, config, callHistory]);\n\n  return {\n    callRealLLMAPI,\n    callSelfPlayLLMAPI,\n    startRealTimeGame,\n    isProcessing: isProcessing || gameProcessingRef.current,\n    apiError,\n    cancelRequest: () => {\n      if (abortControllerRef.current) {\n        abortControllerRef.current.abort();\n        setIsProcessing(false);\n        setApiError(\"Request cancelled\");\n      }\n      if (gameProcessingRef.current) {\n        gameProcessingRef.current = false;\n      }\n    },\n    clearError: () => setApiError(null),\n    getAPIStatus,\n    lastCallResult,\n    callHistory,\n    clearCallHistory: () => {\n      setCallHistory([]);\n      setLastCallResult(null);\n    },\n    simulateAPIDelay,\n    config,\n  };\n};\n\nexport default useLLMAPIEnhanced;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n  ['circle', { cx: '12', cy: '12', r: '6', key: '1vlfrh' }],\n  ['circle', { cx: '12', cy: '12', r: '2', key: '1c9p78' }],\n];\n\n/**\n * @component @name Target\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSI2IiAvPgogIDxjaXJjbGUgY3g9IjEyIiBjeT0iMTIiIHI9IjIiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/target\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Target = createLucideIcon('target', __iconNode);\n\nexport default Target;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M7.9 20A9 9 0 1 0 4 16.1L2 22Z', key: 'vv11sd' }],\n];\n\n/**\n * @component @name MessageCircle\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNNy45IDIwQTkgOSAwIDEgMCA0IDE2LjFMMiAyMloiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/message-circle\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst MessageCircle = createLucideIcon('message-circle', __iconNode);\n\nexport default MessageCircle;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z',\n      key: '1qme2f',\n    },\n  ],\n  ['circle', { cx: '12', cy: '12', r: '3', key: '1v7zrd' }],\n];\n\n/**\n * @component @name Settings\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTIuMjIgMmgtLjQ0YTIgMiAwIDAgMC0yIDJ2LjE4YTIgMiAwIDAgMS0xIDEuNzNsLS40My4yNWEyIDIgMCAwIDEtMiAwbC0uMTUtLjA4YTIgMiAwIDAgMC0yLjczLjczbC0uMjIuMzhhMiAyIDAgMCAwIC43MyAyLjczbC4xNS4xYTIgMiAwIDAgMSAxIDEuNzJ2LjUxYTIgMiAwIDAgMS0xIDEuNzRsLS4xNS4wOWEyIDIgMCAwIDAtLjczIDIuNzNsLjIyLjM4YTIgMiAwIDAgMCAyLjczLjczbC4xNS0uMDhhMiAyIDAgMCAxIDIgMGwuNDMuMjVhMiAyIDAgMCAxIDEgMS43M1YyMGEyIDIgMCAwIDAgMiAyaC40NGEyIDIgMCAwIDAgMi0ydi0uMThhMiAyIDAgMCAxIDEtMS43M2wuNDMtLjI1YTIgMiAwIDAgMSAyIDBsLjE1LjA4YTIgMiAwIDAgMCAyLjczLS43M2wuMjItLjM5YTIgMiAwIDAgMC0uNzMtMi43M2wtLjE1LS4wOGEyIDIgMCAwIDEtMS0xLjc0di0uNWEyIDIgMCAwIDEgMS0xLjc0bC4xNS0uMDlhMiAyIDAgMCAwIC43My0yLjczbC0uMjItLjM4YTIgMiAwIDAgMC0yLjczLS43M2wtLjE1LjA4YTIgMiAwIDAgMS0yIDBsLS40My0uMjVhMiAyIDAgMCAxLTEtMS43M1Y0YTIgMiAwIDAgMC0yLTJ6IiAvPgogIDxjaXJjbGUgY3g9IjEyIiBjeT0iMTIiIHI9IjMiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/settings\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Settings = createLucideIcon('settings', __iconNode);\n\nexport default Settings;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z',\n      key: 'oel41y',\n    },\n  ],\n];\n\n/**\n * @component @name Shield\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjAgMTNjMCA1LTMuNSA3LjUtNy42NiA4Ljk1YTEgMSAwIDAgMS0uNjctLjAxQzcuNSAyMC41IDQgMTggNCAxM1Y2YTEgMSAwIDAgMSAxLTFjMiAwIDQuNS0xLjIgNi4yNC0yLjcyYTEuMTcgMS4xNyAwIDAgMSAxLjUyIDBDMTQuNTEgMy44MSAxNyA1IDE5IDVhMSAxIDAgMCAxIDEgMXoiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/shield\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Shield = createLucideIcon('shield', __iconNode);\n\nexport default Shield;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2',\n      key: '169zse',\n    },\n  ],\n];\n\n/**\n * @component @name Activity\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjIgMTJoLTIuNDhhMiAyIDAgMCAwLTEuOTMgMS40NmwtMi4zNSA4LjM2YS4yNS4yNSAwIDAgMS0uNDggMEw5LjI0IDIuMThhLjI1LjI1IDAgMCAwLS40OCAwbC0yLjM1IDguMzZBMiAyIDAgMCAxIDQuNDkgMTJIMiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/activity\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Activity = createLucideIcon('activity', __iconNode);\n\nexport default Activity;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'm21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3',\n      key: 'wmoenq',\n    },\n  ],\n  ['path', { d: 'M12 9v4', key: 'juzpu7' }],\n  ['path', { d: 'M12 17h.01', key: 'p32p05' }],\n];\n\n/**\n * @component @name TriangleAlert\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMjEuNzMgMTgtOC0xNGEyIDIgMCAwIDAtMy40OCAwbC04IDE0QTIgMiAwIDAgMCA0IDIxaDE2YTIgMiAwIDAgMCAxLjczLTMiIC8+CiAgPHBhdGggZD0iTTEyIDl2NCIgLz4KICA8cGF0aCBkPSJNMTIgMTdoLjAxIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/triangle-alert\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst TriangleAlert = createLucideIcon('triangle-alert', __iconNode);\n\nexport default TriangleAlert;\n","import React, { useState, useCallback, useRef, useMemo } from 'react';\nimport { \n  Settings, Shield, Cpu, AlertTriangle, Brain, MessageCircle, \n  Zap, Target, Activity \n} from 'lucide-react';\nimport { getTheme, MODEL_OPTIONS, BUILTIN_API_TOKEN } from '../../constants';\n\nconst DEFAULT_THEME = {\n  primary: { bg: 'from-gray-100 to-gray-200', icon: 'text-gray-600', text: 'text-gray-700', border: 'border-gray-200' },\n  role: { bg: 'from-gray-100 to-gray-200', icon: 'text-gray-600', text: 'text-gray-700' },\n  ai: { bg: 'from-blue-100 to-blue-200', icon: 'text-blue-600', text: 'text-blue-700' },\n  user: { bg: 'from-green-100 to-green-200', icon: 'text-green-600', text: 'text-green-700' }\n};\n\nconst getSafeTheme = (variant) => {\n  try {\n    const theme = getTheme(variant);\n    return {\n      primary: theme?.primary || DEFAULT_THEME.primary,\n      role: theme?.role || DEFAULT_THEME.role,\n      ai: theme?.ai || DEFAULT_THEME.ai,\n      user: theme?.user || DEFAULT_THEME.user\n    };\n  } catch (error) {\n    console.warn('Failed to get theme for variant:', variant, error);\n    return DEFAULT_THEME;\n  }\n};\n\nconst getGridClass = (itemCount) => {\n  if (itemCount <= 2) return 'grid-cols-1 md:grid-cols-2';\n  if (itemCount <= 4) return 'grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4';\n  return 'grid-cols-1 sm:grid-cols-2 md:grid-cols-3';\n};\n\nconst GameConfiguration = ({ \n  config, \n  onConfigChange, \n  apiStatus, \n  showAdvancedSettings = false,\n  variant = 'default',\n  gameData, \n  conversation = [], \n  gameState = 'idle'\n}) => {\n  const [isTransitioning, setIsTransitioning] = useState(false);\n  const theme = getSafeTheme(variant);\n  \n  const autoTokenSetRef = useRef(false);\n  const onConfigChangeRef = useRef(onConfigChange);\n  \n  React.useLayoutEffect(() => {\n    onConfigChangeRef.current = onConfigChange;\n  });\n\n  const stats = useMemo(() => {\n    const safeGameData = gameData || {};\n    const safeConversation = Array.isArray(conversation) ? conversation : [];\n    \n    return {\n      totalMessages: safeConversation.length,\n      guessCount: safeGameData.guessCount || safeGameData.totalGuesses || 0,\n      secretNumber: safeGameData.secretNumber || (gameState === 'finished' ? 'Unknown' : '???'),\n      currentRole: safeGameData.currentRole || 'unknown',\n      useRealAPI: safeGameData.useRealAPI || false\n    };\n  }, [gameData, conversation, gameState]);\n\n  const statsConfig = useMemo(() => {\n    const safeTheme = {\n      role: theme.role || DEFAULT_THEME.role,\n      primary: theme.primary || DEFAULT_THEME.primary,\n      ai: theme.ai || DEFAULT_THEME.ai,\n      user: theme.user || DEFAULT_THEME.user\n    };\n\n    if (variant === 'v3') {\n      return [\n        {\n          key: 'mode',\n          icon: Brain,\n          label: 'Game Mode',\n          value: stats.useRealAPI ? 'Real API' : 'Simulation',\n          color: safeTheme.role,\n          tooltip: stats.useRealAPI ? 'Using real AI API calls' : 'Using simulation'\n        },\n        {\n          key: 'guesses',\n          icon: Target,\n          label: 'Guesses',\n          value: stats.guessCount,\n          color: safeTheme.ai,\n          tooltip: 'Total guesses made'\n        },\n        {\n          key: 'secret',\n          icon: Zap,\n          label: 'Secret Number',\n          value: stats.secretNumber,\n          color: safeTheme.user,\n          tooltip: stats.secretNumber === '???' ? 'Hidden during game' : 'The secret number'\n        }\n      ];\n    } else {\n      return [\n        {\n          key: 'role',\n          icon: Brain,\n          label: 'AI Role',\n          value: stats.currentRole === 'hider' ? '🎯 Hider' : '🔍 Guesser',\n          color: safeTheme.role,\n          tooltip: stats.currentRole === 'hider' ? 'AI is hiding a number' : 'AI is guessing your number'\n        },\n        {\n          key: 'messages',\n          icon: MessageCircle,\n          label: 'Messages',\n          value: stats.totalMessages,\n          color: safeTheme.primary,\n          tooltip: 'Total messages exchanged'\n        },\n        {\n          key: 'guesses',\n          icon: Zap,\n          label: 'Guesses',\n          value: stats.guessCount,\n          color: safeTheme.ai,\n          tooltip: 'Number of guesses made'\n        },\n        {\n          key: 'secret',\n          icon: Cpu,\n          label: 'Secret Number',\n          value: stats.secretNumber,\n          color: safeTheme.user,\n          tooltip: stats.secretNumber === '???' ? 'Hidden during game' : 'The secret number'\n        }\n      ];\n    }\n  }, [variant, stats, theme]);\n\n  const gridClass = useMemo(() => getGridClass(statsConfig.length), [statsConfig.length]);\n\n  React.useEffect(() => {\n    if (config.useRealAPI && !config.apiToken && !autoTokenSetRef.current) {\n      autoTokenSetRef.current = true;\n      onConfigChangeRef.current('apiToken', BUILTIN_API_TOKEN);\n    }\n    \n    if (!config.useRealAPI) {\n      autoTokenSetRef.current = false;\n    }\n  }, [config.useRealAPI, config.apiToken]);\n\n  const handleConfigChange = useCallback(async (key, value) => {\n    if (key === 'useRealAPI') {\n      setIsTransitioning(true);\n      \n      if (value === true) {\n        autoTokenSetRef.current = false;\n      }\n      \n      onConfigChange(key, value);\n      setTimeout(() => setIsTransitioning(false), 150);\n    } else {\n      if (key === 'apiToken' && value) {\n        autoTokenSetRef.current = true;\n      }\n      onConfigChange(key, value);\n    }\n  }, [onConfigChange]);\n\n  const hasGameData = gameData || (conversation && conversation.length > 0);\n\n  return (\n    <div className={`bg-gradient-to-r ${theme.primary.bg} rounded-2xl p-6 mb-6 shadow-inner border ${theme.primary.border}`}>\n      <div className=\"flex items-center justify-center mb-6\">\n        <h3 className=\"text-lg font-semibold text-gray-800 flex items-center gap-2\">\n          <Settings className=\"w-5 h-5\" />\n          Game Configuration\n        </h3>\n      </div>\n\n      <div className=\"mb-8\">\n        <h4 className=\"text-center text-sm font-medium text-gray-600 mb-4\">Choose Game Mode</h4>\n        \n        <div className=\"flex justify-center gap-2 p-2 bg-white bg-opacity-70 rounded-2xl max-w-md mx-auto shadow-sm\">\n          <button\n            onClick={() => handleConfigChange('useRealAPI', false)}\n            disabled={isTransitioning}\n            className={`flex-1 flex items-center justify-center gap-2 px-6 py-4 rounded-xl font-semibold transition-all transform ${\n              !config.useRealAPI \n                ? 'bg-blue-500 text-white shadow-lg scale-105'\n                : 'bg-transparent text-gray-600 hover:bg-gray-50'\n            } ${isTransitioning ? 'opacity-50 cursor-not-allowed' : ''}`}\n          >\n            <Shield className=\"w-5 h-5\" />\n            <div className=\"text-left\">\n              <div className=\"text-sm font-bold\">Simulation</div>\n              <div className=\"text-xs opacity-75\">Free & Fast</div>\n            </div>\n          </button>\n          \n          <button\n            onClick={() => handleConfigChange('useRealAPI', true)}\n            disabled={isTransitioning}\n            className={`flex-1 flex items-center justify-center gap-2 px-6 py-4 rounded-xl font-semibold transition-all transform ${\n              config.useRealAPI \n                ? 'bg-orange-500 text-white shadow-lg scale-105'\n                : 'bg-transparent text-gray-600 hover:bg-gray-50'\n            } ${isTransitioning ? 'opacity-50 cursor-not-allowed' : ''}`}\n          >\n            <Cpu className=\"w-5 h-5\" />\n            <div className=\"text-left\">\n              <div className=\"text-sm font-bold\">Real AI</div>\n              <div className=\"text-xs opacity-75\">Authentic</div>\n            </div>\n          </button>\n        </div>\n      </div>\n\n      {hasGameData ? (\n        <div className=\"mb-8\">\n          <h4 className=\"text-center text-sm font-medium text-gray-600 mb-4\">Game Statistics</h4>\n          <div className={`grid ${gridClass} gap-4`}>\n            {statsConfig.map((stat, index) => {\n              const safeColor = stat.color || DEFAULT_THEME.primary;\n              const safeBg = safeColor.bg || DEFAULT_THEME.primary.bg;\n              const safeIcon = safeColor.icon || DEFAULT_THEME.primary.icon;\n              const safeText = safeColor.text || DEFAULT_THEME.primary.text;\n\n              return (\n                <div \n                  key={stat.key}\n                  className={`bg-gradient-to-br ${safeBg} p-4 rounded-xl text-center shadow-lg hover:shadow-xl transition-all duration-200 group relative transform hover:-translate-y-1 min-w-0`}\n                  title={stat.tooltip}\n                  style={{ animationDelay: `${index * 0.1}s` }}\n                >\n                  <stat.icon className={`w-8 h-8 mx-auto mb-2 ${safeIcon} group-hover:scale-110 transition-transform duration-200`} />\n                  \n                  <div className=\"text-sm text-gray-600 mb-1 font-medium\">{stat.label}</div>\n                  \n                  <div className={`text-lg font-bold ${safeText} group-hover:scale-105 transition-transform duration-200`}>\n                    {stat.value}\n                  </div>\n\n                  {stat.key === 'mode' && stat.value === 'Real API' && (\n                    <div className=\"absolute top-2 right-2 w-2 h-2 bg-green-500 rounded-full animate-pulse\" title=\"Real API Active\"></div>\n                  )}\n                  \n                  {stat.key === 'secret' && stat.value !== '???' && gameState === 'finished' && (\n                    <div className=\"absolute top-2 right-2 text-green-500 text-xs\" title=\"Game Finished!\">✓</div>\n                  )}\n                </div>\n              );\n            })}\n          </div>\n        </div>\n      ) : (\n        <div className=\"text-center py-6 mb-8\">\n          <Activity className=\"w-8 h-8 mx-auto mb-2 opacity-50 text-gray-500\" />\n          <p className=\"text-sm text-gray-500\">Start a game to see statistics</p>\n        </div>\n      )}\n\n      {showAdvancedSettings && config.useRealAPI && (\n        <div className=\"bg-white bg-opacity-70 rounded-xl p-4 shadow-sm mb-4\">\n          <h5 className=\"text-sm font-semibold text-gray-700 mb-4 flex items-center gap-2\">\n            <Settings className=\"w-4 h-4\" />\n            Model Selection\n          </h5>\n          \n          <div>\n            <label className=\"block text-sm font-medium mb-2 text-gray-700\">AI Model:</label>\n            <select\n              value={config.model}\n              onChange={(e) => handleConfigChange('model', e.target.value)}\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-blue-500 focus:border-transparent\"\n            >\n              {MODEL_OPTIONS.map(option => (\n                <option key={option.value} value={option.value}>\n                  {option.label}\n                </option>\n              ))}\n            </select>\n          </div>\n        </div>\n      )}\n\n      <div className=\"text-center mb-4\">\n        <div className={`inline-flex items-center gap-2 px-4 py-2 rounded-lg font-medium ${\n          config.useRealAPI ? 'bg-orange-100 text-orange-800' : 'bg-blue-100 text-blue-800'\n        }`}>\n          {config.useRealAPI ? <Cpu className=\"w-4 h-4\" /> : <Shield className=\"w-4 h-4\" />}\n          <span>\n            {config.useRealAPI \n              ? `Real ${config.model.split('/')[1]} API` \n              : 'Enhanced Simulation Mode'\n            }\n          </span>\n          {config.useRealAPI && (\n            <div className=\"w-2 h-2 rounded-full bg-green-500\" />\n          )}\n        </div>\n      </div>\n\n      {apiStatus?.callHistory?.total > 0 && (\n  <div className=\"grid grid-cols-2 gap-4 mb-4\">\n    <div className=\"bg-white bg-opacity-70 p-3 rounded-lg text-center shadow-sm\">\n      <div className=\"text-lg font-bold text-blue-600\">{apiStatus.callHistory.successful}</div>\n      <div className=\"text-xs text-gray-500\">Successful</div>\n    </div>\n    <div className=\"bg-white bg-opacity-70 p-3 rounded-lg text-center shadow-sm\">\n      <div className=\"text-lg font-bold text-purple-600\">{apiStatus.callHistory.total}</div>\n      <div className=\"text-xs text-gray-500\">Total Calls</div>\n    </div>\n  </div>\n)}\n\n      {config.useRealAPI && !config.apiToken && (\n        <div className=\"mt-4 p-3 bg-red-50 border border-red-200 rounded-lg\">\n          <div className=\"flex items-center gap-2 text-red-800 text-sm\">\n            <AlertTriangle className=\"w-4 h-4\" />\n            <span>API token is required for real API mode</span>\n          </div>\n        </div>\n      )}\n\n      {isTransitioning && (\n        <div className=\"mt-4 text-center\">\n          <div className=\"inline-flex items-center gap-2 px-3 py-2 bg-blue-100 text-blue-700 rounded-full text-sm\">\n            <div className=\"w-4 h-4 border-2 border-blue-600 border-t-transparent rounded-full animate-spin\" />\n            Switching mode...\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default React.memo(GameConfiguration);","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2', key: '975kel' }],\n  ['circle', { cx: '12', cy: '7', r: '4', key: '17ys0d' }],\n];\n\n/**\n * @component @name User\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTkgMjF2LTJhNCA0IDAgMCAwLTQtNEg5YTQgNCAwIDAgMC00IDR2MiIgLz4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjciIHI9IjQiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/user\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst User = createLucideIcon('user', __iconNode);\n\nexport default User;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M12 8V4H8', key: 'hb8ula' }],\n  ['rect', { width: '16', height: '12', x: '4', y: '8', rx: '2', key: 'enze0r' }],\n  ['path', { d: 'M2 14h2', key: 'vft8re' }],\n  ['path', { d: 'M20 14h2', key: '4cs60a' }],\n  ['path', { d: 'M15 13v2', key: '1xurst' }],\n  ['path', { d: 'M9 13v2', key: 'rq6x2g' }],\n];\n\n/**\n * @component @name Bot\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTIgOFY0SDgiIC8+CiAgPHJlY3Qgd2lkdGg9IjE2IiBoZWlnaHQ9IjEyIiB4PSI0IiB5PSI4IiByeD0iMiIgLz4KICA8cGF0aCBkPSJNMiAxNGgyIiAvPgogIDxwYXRoIGQ9Ik0yMCAxNGgyIiAvPgogIDxwYXRoIGQ9Ik0xNSAxM3YyIiAvPgogIDxwYXRoIGQ9Ik05IDEzdjIiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/bot\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Bot = createLucideIcon('bot', __iconNode);\n\nexport default Bot;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n  ['polyline', { points: '12 6 12 12 16 14', key: '68esgv' }],\n];\n\n/**\n * @component @name Clock\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KICA8cG9seWxpbmUgcG9pbnRzPSIxMiA2IDEyIDEyIDE2IDE0IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/clock\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Clock = createLucideIcon('clock', __iconNode);\n\nexport default Clock;\n","import React, { useRef, useEffect, useState, useMemo, useCallback } from 'react';\nimport { Brain, User, Bot, Clock, MessageSquare } from 'lucide-react';\nimport { getTheme } from '../../constants';\n\nconst formatTimestamp = (timestamp) => {\n  return timestamp ? new Date(timestamp).toLocaleTimeString([], { \n    hour: '2-digit', \n    minute: '2-digit', \n    second: '2-digit' \n  }) : 'Unknown';\n};\n\nconst MessageItem = React.memo(({ \n  msg, \n  index, \n  theme, \n  showTimestamps, \n  isNew = false \n}) => {\n  const messageStyle = useMemo(() => {\n    if (!isNew && index < 10) {\n      return {\n        animationDelay: `${index * 0.05}s`,\n        animationFillMode: 'forwards'\n      };\n    }\n    return { animationFillMode: 'forwards' };\n  }, [isNew, index]);\n\n  const isUser = msg.sender === 'user';\n  \n  const containerClass = useMemo(() => \n    `flex ${isUser ? 'justify-end' : 'justify-start'} opacity-0 animate-fade-in`\n  , [isUser]);\n\n  const messageClass = useMemo(() => \n    `max-w-2xl px-6 py-4 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-200 ${\n      isUser\n        ? `bg-gradient-to-r ${theme.user.gradient} text-white`\n        : `bg-gradient-to-r ${theme.ai.gradient} text-white`\n    }`\n  , [isUser, theme.user.gradient, theme.ai.gradient]);\n\n  return (\n    <div className={containerClass} style={messageStyle}>\n      <div className={messageClass}>\n        <div className=\"flex items-center gap-2 text-sm opacity-90 mb-2\">\n          {isUser ? <User className=\"w-4 h-4\" /> : <Bot className=\"w-4 h-4\" />}\n          <span className=\"font-semibold\">\n            {msg.metadata?.aiRole || (isUser ? '👤 User' : theme.ai.name)}\n          </span>\n          {showTimestamps && msg.timestamp && (\n            <>\n              <Clock className=\"w-3 h-3 opacity-75\" />\n              <span className=\"text-xs opacity-75\">{formatTimestamp(msg.timestamp)}</span>\n            </>\n          )}\n          <span className=\"text-xs opacity-75 ml-auto\">#{index + 1}</span>\n        </div>\n        \n        <div className=\"text-lg leading-relaxed break-words\">{msg.message}</div>\n\n        {msg.metadata && (\n          <div className=\"mt-2 text-xs opacity-75 border-t border-white border-opacity-20 pt-2\">\n            {msg.metadata.guessCount && (\n              <span className=\"bg-white bg-opacity-20 px-2 py-1 rounded mr-2\">\n                Guess #{msg.metadata.guessCount}\n              </span>\n            )}\n            {msg.metadata.confidence && (\n              <span className=\"bg-white bg-opacity-20 px-2 py-1 rounded\">\n                Confidence: {msg.metadata.confidence}%\n              </span>\n            )}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n});\n\nconst ThinkingIndicator = React.memo(({ theme, customMessage, isGuesser = false }) => {\n  const isRightSide = isGuesser || (customMessage && customMessage.includes('🔍 AI Guesser'));\n  \n  const containerClass = useMemo(() => \n    `flex ${isRightSide ? 'justify-end' : 'justify-start'}`\n  , [isRightSide]);\n\n  const indicatorClass = useMemo(() => \n    `max-w-2xl px-6 py-4 rounded-2xl shadow-lg bg-gradient-to-r ${\n      isRightSide ? theme.user.gradient : theme.ai.gradient\n    } text-white animate-pulse`\n  , [isRightSide, theme.user.gradient, theme.ai.gradient]);\n\n  return (\n    <div className={containerClass}>\n      <div className={indicatorClass}>\n        <div className=\"flex items-center gap-3\">\n          <div className=\"flex space-x-1\">\n            <div className=\"w-2 h-2 bg-white rounded-full animate-bounce\"></div>\n            <div className=\"w-2 h-2 bg-white rounded-full animate-bounce\" style={{ animationDelay: '0.1s' }}></div>\n            <div className=\"w-2 h-2 bg-white rounded-full animate-bounce\" style={{ animationDelay: '0.2s' }}></div>\n          </div>\n          <span className=\"text-sm font-medium\">\n            {customMessage || `${theme.ai.name} is thinking...`}\n          </span>\n        </div>\n      </div>\n    </div>\n  );\n});\n\nconst EmptyState = React.memo(() => (\n  <div className=\"text-center py-8 text-gray-500\">\n    <MessageSquare className=\"w-12 h-12 mx-auto mb-4 opacity-50\" />\n    <p className=\"text-lg font-medium\">No messages yet</p>\n    <p className=\"text-sm\">Start the conversation!</p>\n  </div>\n));\n\nconst ConversationStats = React.memo(({ stats }) => (\n  <div className=\"flex items-center gap-4 text-sm text-gray-600\">\n    <div className=\"flex items-center gap-1\">\n      <MessageSquare className=\"w-4 h-4\" />\n      <span>{stats.total}</span>\n    </div>\n    <div className=\"flex items-center gap-1\">\n      <User className=\"w-4 h-4 text-green-600\" />\n      <span>{stats.userMessages}</span>\n    </div>\n    <div className=\"flex items-center gap-1\">\n      <Bot className=\"w-4 h-4 text-purple-600\" />\n      <span>{stats.aiMessages}</span>\n    </div>\n  </div>\n));\n\nconst ConversationFooter = React.memo(({ conversation, stats }) => {\n  if (conversation.length === 0) return null;\n  \n  return (\n    <div className=\"text-xs text-gray-500 text-center border-t pt-2 space-y-1\">\n      <div>\n        Started: {formatTimestamp(conversation[0]?.timestamp)} • \n        Latest: {formatTimestamp(conversation[conversation.length - 1]?.timestamp)}\n      </div>\n      <div>\n        {stats.total} total messages ({stats.userMessages} from you, {stats.aiMessages} from AI)\n      </div>\n    </div>\n  );\n});\n\nconst ConversationLog = ({ \n  conversation = [], \n  variant = 'default',\n  title = 'AI Conversation',\n  isThinking = false,\n  thinkingMessage = null,\n  currentPlayer = null,\n  showTimestamps = true,\n  maxHeight = 384\n}) => {\n  const chatContainerRef = useRef(null);\n  const [isAutoScroll, setIsAutoScroll] = useState(true);\n  const prevConversationLengthRef = useRef(0);\n  const scrollTimeoutRef = useRef(null);\n\n  const theme = useMemo(() => getTheme(variant), [variant]);\n  \n  const stats = useMemo(() => {\n    if (conversation.length === 0) {\n      return { userMessages: 0, aiMessages: 0, total: 0 };\n    }\n    \n    const userMessages = conversation.filter(msg => msg.sender === 'user').length;\n    const aiMessages = conversation.filter(msg => msg.sender === 'ai').length;\n    \n    return { userMessages, aiMessages, total: conversation.length };\n  }, [conversation]);\n\n  const hasNewMessages = conversation.length > prevConversationLengthRef.current;\n  const newMessagesStartIndex = prevConversationLengthRef.current;\n\n  const scrollToBottom = useCallback(() => {\n    if (chatContainerRef.current) {\n      const container = chatContainerRef.current;\n      container.scrollTo({\n        top: container.scrollHeight,\n        behavior: 'smooth'\n      });\n    }\n  }, []);\n\n  const handleScroll = useCallback(() => {\n    if (scrollTimeoutRef.current) {\n      clearTimeout(scrollTimeoutRef.current);\n    }\n    \n    scrollTimeoutRef.current = setTimeout(() => {\n      if (!chatContainerRef.current) return;\n      \n      const container = chatContainerRef.current;\n      const isNearBottom = Math.abs(\n        container.scrollHeight - container.scrollTop - container.clientHeight\n      ) < 50;\n      \n      setIsAutoScroll(isNearBottom);\n    }, 100);\n  }, []);\n\n  const scrollToLatest = useCallback(() => {\n    setIsAutoScroll(true);\n    scrollToBottom();\n  }, [scrollToBottom]);\n\n  useEffect(() => {\n    if (hasNewMessages || isThinking) {\n      prevConversationLengthRef.current = conversation.length;\n      \n      if (isAutoScroll) {\n        const timeoutId = setTimeout(scrollToBottom, 50);\n        return () => clearTimeout(timeoutId);\n      }\n    }\n  }, [conversation.length, isThinking, isAutoScroll, scrollToBottom, hasNewMessages]);\n\n  useEffect(() => {\n    return () => {\n      if (scrollTimeoutRef.current) {\n        clearTimeout(scrollTimeoutRef.current);\n      }\n    };\n  }, []);\n\n  const messageList = useMemo(() => {\n    return conversation.map((msg, index) => {\n      const key = `msg-${index}-${msg.timestamp || index}`;\n      const isNew = hasNewMessages && index >= newMessagesStartIndex;\n      \n      return (\n        <MessageItem\n          key={key}\n          msg={msg}\n          index={index}\n          theme={theme}\n          showTimestamps={showTimestamps}\n          isNew={isNew}\n        />\n      );\n    });\n  }, [conversation, theme, showTimestamps, hasNewMessages, newMessagesStartIndex]);\n\n  const containerClass = useMemo(() => \n    `bg-gradient-to-r ${theme.primary.bg} rounded-2xl p-6 shadow-inner mb-6`\n  , [theme.primary.bg]);\n\n  const chatContainerClass = useMemo(() => \n    \"space-y-6 overflow-y-auto mb-6 scroll-smooth\"\n  , []);\n\n  const chatContainerStyle = useMemo(() => \n    ({ maxHeight: `${maxHeight}px` })\n  , [maxHeight]);\n\n  return (\n    <div className={containerClass}>\n      <div className=\"flex items-center justify-between mb-6\">\n        <h3 className=\"text-2xl font-semibold text-gray-800 flex items-center gap-2\">\n          <Brain className={`w-7 h-7 ${theme.primary.icon}`} />\n          {title}\n        </h3>\n        \n        {conversation.length > 0 && (\n          <ConversationStats stats={stats} />\n        )}\n      </div>\n\n      {conversation.length > 3 && !isAutoScroll && (\n        <div className=\"mb-4 text-center\">\n          <button\n            onClick={scrollToLatest}\n            className=\"px-3 py-1 bg-blue-500 text-white text-xs rounded-full hover:bg-blue-600 transition-colors\"\n          >\n            ↓ Scroll to latest\n          </button>\n        </div>\n      )}\n      \n      <div \n        ref={chatContainerRef}\n        className={chatContainerClass}\n        style={chatContainerStyle}\n        onScroll={handleScroll}\n      >\n        {conversation.length === 0 ? (\n          <EmptyState />\n        ) : (\n          <>\n            {messageList}\n            {isThinking && (\n              <ThinkingIndicator \n                theme={theme} \n                customMessage={thinkingMessage}\n                isGuesser={currentPlayer === 'guesser'}\n              />\n            )}\n          </>\n        )}\n      </div>\n\n      <ConversationFooter conversation={conversation} stats={stats} />\n\n      <style jsx>{`\n        @keyframes fade-in {\n          from { opacity: 0; transform: translateY(5px); }\n          to { opacity: 1; transform: translateY(0); }\n        }\n        .animate-fade-in { \n          animation: fade-in 0.2s ease-out; \n        }\n      `}</style>\n    </div>\n  );\n};\n\nexport default React.memo(ConversationLog, (prevProps, nextProps) => {\n  return (\n    prevProps.conversation.length === nextProps.conversation.length &&\n    prevProps.variant === nextProps.variant &&\n    prevProps.title === nextProps.title &&\n    prevProps.isThinking === nextProps.isThinking &&\n    prevProps.thinkingMessage === nextProps.thinkingMessage &&\n    prevProps.currentPlayer === nextProps.currentPlayer &&\n    prevProps.showTimestamps === nextProps.showTimestamps &&\n    prevProps.maxHeight === nextProps.maxHeight &&\n    (prevProps.conversation.length === 0 || \n     (prevProps.conversation[prevProps.conversation.length - 1] === \n      nextProps.conversation[nextProps.conversation.length - 1]))\n  );\n});","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8', key: '1357e3' }],\n  ['path', { d: 'M3 3v5h5', key: '1xhq8a' }],\n];\n\n/**\n * @component @name RotateCcw\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMyAxMmE5IDkgMCAxIDAgOS05IDkuNzUgOS43NSAwIDAgMC02Ljc0IDIuNzRMMyA4IiAvPgogIDxwYXRoIGQ9Ik0zIDN2NWg1IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/rotate-ccw\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst RotateCcw = createLucideIcon('rotate-ccw', __iconNode);\n\nexport default RotateCcw;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n  ['line', { x1: '12', x2: '12', y1: '8', y2: '12', key: '1pkeuh' }],\n  ['line', { x1: '12', x2: '12.01', y1: '16', y2: '16', key: '4dfq90' }],\n];\n\n/**\n * @component @name CircleAlert\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KICA8bGluZSB4MT0iMTIiIHgyPSIxMiIgeTE9IjgiIHkyPSIxMiIgLz4KICA8bGluZSB4MT0iMTIiIHgyPSIxMi4wMSIgeTE9IjE2IiB5Mj0iMTYiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/circle-alert\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst CircleAlert = createLucideIcon('circle-alert', __iconNode);\n\nexport default CircleAlert;\n"],"names":["generateSecretNumber","min","arguments","length","undefined","GAME_CONFIG","RULES","MIN_NUMBER","max","MAX_NUMBER","console","warn","secretNumber","Math","floor","random","error","log","concat","calculateBinarySearchGuess","guess","parseNumber","input","trimmed","trim","test","num","parseFloat","isNaN","compareGuess","secret","numGuess","numSecret","parsedGuess","parsedSecret","FEEDBACK","CORRECT","HIGHER","LOWER","updateGuessingRange","currentRange","lastGuess","feedback","isError","errorMessage","parsedLastGuess","_objectSpread","newRange","normalizedFeedback","normalizeFeedback","message","debugInfo","previousRange","attemptedRange","suggestion","originalRange","isFinalGuess","isValidGameRange","originalError","String","normalized","toLowerCase","includes","isValidGuess","parsed","Number","isInteger","validateGameState","gameData","errors","warnings","push","isValid","currentRole","guesserState","guessCount","summary","role","guesses","rangeSize","simulateSelfPlayGame","options","maxGuesses","MAX_GUESSES","startRange","gameLog","found","createSetupLogEntry","turnNumber","guesserThought","prevHiderEntry","prevGuesserEntry","action","metadata","createGameLogEntry","ROLES","GUESSER","strategy","hiderThought","HIDER","gameEnd","result","totalGuesses","newRangeResult","efficiency","calculateGameEfficiency","DEFAULT_TEMPERATURE","STATES","IDLE","PLAYING","FINISHED","PROCESSING","EFFICIENCY_THRESHOLDS","EXCELLENT","GOOD","API","DEFAULT_MAX_TOKENS","DEFAULT_TOP_P","DEFAULT_TOP_K","DEFAULT_FREQUENCY_PENALTY","DEFAULT_BASE_URL","UI","ANIMATION_DELAY","SCROLL_DELAY","MIN_API_DELAY","MAX_API_DELAY","ROLE_CONFIG","name","icon","description","styles","gradient","bgGradient","border","textColor","bgColor","getRoleConfig","turn","thought","roleConfig","roleIcon","roleName","timestamp","Date","toISOString","apiType","isSetup","gamePhase","createAPIResult","content","success","callId","now","toString","substr","createErrorResult","type","createDefaultAPIConfig","useRealAPI","apiToken","apiBaseUrl","model","maxTokens","temperature","topP","topK","frequencyPenalty","mergeAPIConfig","defaultConfig","customConfig","THEME_VARIANTS","default","primary","bg","user","ai","hider","guesser","selfplay","GAME_BUTTONS","correct","text","style","tooHigh","tooLow","getTheme","getGameButtons","MODEL_OPTIONS","value","label","BUILTIN_API_TOKEN","useLLMAPIEnhanced","config","useMemo","isProcessing","setIsProcessing","useState","apiError","setApiError","lastCallResult","setLastCallResult","callHistory","setCallHistory","abortControllerRef","useRef","gameProcessingRef","addToCallHistory","useCallback","prev","slice","simulateAPIDelay","minDelay","maxDelay","delay","Promise","resolve","setTimeout","callSingleAPI","async","messages","systemPrompt","cost","estimatedUSD","tokensUsed","duration","startTime","current","AbortController","apiMessages","requestBody","stream","max_tokens","enable_thinking","thinking_budget","min_p","stop","top_p","top_k","frequency_penalty","n","response_format","tools","method","headers","Authorization","body","JSON","stringify","signal","_data$usage","response","fetch","endTime","ok","_errorData$error","errorData","json","catch","Error","status","statusText","data","choices","usage","total_tokens","finishReason","finish_reason","responseLength","callRealLLMAPI","callMetadata","messagesCount","hasSystemPrompt","errorResult","successResult","abortError","cancelled","startRealTimeGame","onTurnUpdate","onGameComplete","onError","hiderSetupPrompt","callSelfPlayLLMAPI","getAPIStatus","total","successful","filter","call","totalCost","reduce","sum","_call$metadata","_call$metadata$cost","hasError","canRetry","usingRealAPI","hasValidToken","environment","process","version","failed","cancelRequest","abort","clearError","clearCallHistory","Target","createLucideIcon","cx","cy","r","key","MessageCircle","d","Settings","Shield","Activity","TriangleAlert","DEFAULT_THEME","GameConfiguration","_ref","_apiStatus$callHistor","onConfigChange","apiStatus","showAdvancedSettings","variant","conversation","gameState","isTransitioning","setIsTransitioning","theme","getSafeTheme","autoTokenSetRef","onConfigChangeRef","React","stats","safeGameData","totalMessages","Array","isArray","statsConfig","safeTheme","Brain","color","tooltip","Zap","Cpu","gridClass","getGridClass","itemCount","handleConfigChange","hasGameData","_jsxs","className","children","_jsx","onClick","disabled","map","stat","index","safeColor","safeBg","safeIcon","safeText","title","animationDelay","onChange","e","target","option","split","AlertTriangle","User","Bot","width","height","x","y","rx","Clock","points","formatTimestamp","toLocaleTimeString","hour","minute","second","MessageItem","_msg$metadata","msg","showTimestamps","isNew","messageStyle","animationFillMode","isUser","sender","containerClass","messageClass","aiRole","_Fragment","confidence","ThinkingIndicator","_ref2","customMessage","isGuesser","isRightSide","indicatorClass","EmptyState","MessageSquare","ConversationStats","_ref3","userMessages","aiMessages","ConversationFooter","_ref4","_conversation$","_conversation","ConversationLog","_ref5","isThinking","thinkingMessage","currentPlayer","maxHeight","chatContainerRef","isAutoScroll","setIsAutoScroll","prevConversationLengthRef","scrollTimeoutRef","hasNewMessages","newMessagesStartIndex","scrollToBottom","container","scrollTo","top","scrollHeight","behavior","handleScroll","clearTimeout","isNearBottom","abs","scrollTop","clientHeight","scrollToLatest","useEffect","timeoutId","messageList","chatContainerClass","chatContainerStyle","ref","onScroll","jsx","prevProps","nextProps","RotateCcw","CircleAlert","x1","x2","y1","y2"],"sourceRoot":""}